<%! from django.utils.translation import ugettext as _ %>
<%inherit file="/main.html" />
<%! from django.core.urlresolvers import reverse %>
<%namespace name='static' file='/static_content.html'/>

<%block name="js_extra">
  <script type="text/javascript" src="${static.url('js/vendor/flot/jquery.flot.js')}"></script>
  <script type="text/javascript" src="${static.url('js/vendor/flot/jquery.flot.stack.js')}"></script>
  <script type="text/javascript" src="${static.url('js/vendor/flot/jquery.flot.symbol.js')}"></script>
  <script type="text/javascript" src="${static.url('js/vendor/jquery.csvToTable.js')}"></script>
  <script type="text/javascript" src="${static.url('js/jquery.gradebook.js')}"></script>
</%block>

<%block name="headextra">
<%static:css group='style-course-vendor'/>
<%static:css group='style-course'/>

  <style type="text/css">

  </style>

  <script type="text/javascript">
    $(document).ready(function() {
      $('#CSVTable').CSVToTable('https://edu.olimpiada.ru/edx/${course.id.replace('/','_')}.csv',
        {
          tableClass: 'grade-table'
          }).bind("loadComplete",function() { 
            $('#CSVTable tbody').children('tr').each(function() {$('.student-table > tbody:last').append($('<tr>').append($(this).children('td')[0]))});
            $('#CSVTable thead').children('th').each(function() {$(this).children('td')[0].remove()});
            var gradebook = new Gradebook($('.gradebook-content'));
      });;
    });
  </script>

</%block>

<%include file="/courseware/course_navigation.html" args="active_page=''" />

<section class="container">
<div class="gradebook-wrapper">
  <section class="gradebook-content">
    <h1>${_("Gradebook")}</h1>
    Таблица обновленна 24.01.2014 в 04:10:13 (GMT+4)<br>
    <a href='https://edu.olimpiada.ru/edx/${course.id.replace('/','_')}.csv'> Таблица в CSV формате (кодировка UTF-8) </a><br>
    <table class="student-table">
      <thead>
        <tr>
          <th>
            <form class="student-search">
              <input type="search" class="student-search-field" placeholder="${_('Search students')}" />
            </form>
          </th>
        </tr>
      </thead>
      <tbody>
        
      </tbody>
    </table>



    <div id="CSVTable" class="grades">
    </div>
  </section>
</div>
</section>


